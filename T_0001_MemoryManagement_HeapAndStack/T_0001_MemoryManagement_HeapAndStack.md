# Тема №1: Управление памятью в .NET. Стек (Stack) и Куча (Heap)

Раскопки завели меня в IL. Это "ассемблер" для .NET.
Что я выяснил? 

Типы-значения (кроме являющихся полями классов), указатели и структуры попадают в стэк.
Это место, с которым процессор работает быстрее всего. 
Остальное - в кучу (фактически - RAM).

Разница между стэком и кучей:
- Время жизни: стэк работает по принципу LIFO (last in - first out) - сдвинули ESP и адью, куча - она и в Африке куча.
- Скорость: стэк сильно "ближе" к процессору (он в RAM, но кэшируется в L1), со всеми вытекающими (разница в скорости существенная)
- Объектами в куче (в .Net) управляет сборщик мусора (GC): он сам следит за оторвавшимися от мира сего объектами и чикает их (в отличии от язвков, где памятью управляет программист)